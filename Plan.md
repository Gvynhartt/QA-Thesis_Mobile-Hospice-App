### ПЛАН ТЕСТИРОВАНИЯ ПРИЛОЖЕНИЯ V HOSPICE (v. 1.0.0)

## Используемые инструменты
- Android Studio Giraffe 2022.3.1 Patch 2 - создание эмуляторов, установка проекта, ручные проверки, написание кода тестов;
- Фреймворк для тестирования Espresso (espresso-core:3.4.0) - для записи, редактирования и запуска тестов; выбран потому, что интегрирован в Android Studio, позволяет записывать тесты из интерфеса объекта тестирования в код, востребован;
- Фреймворк для создания тестовых отчётов Allure (allure-kotlin-android:2.0.0) - создание и отправка отчётов в понятной наглядной форме с основными метриками;

## Примерная (!) оценка интервала тестовых мероприятий

- Исследование функционала приложения в виде свободных ручных проверок - 2 часа;
- Прогон всех тестовых сценариев ориентировочно занимает 3,5 часа (205 минут, если точнее);
- Количество автоматизируемых сценариев (разной сложности и продолжительности) - порядка 110;
- Среднее время для написания автоматизируемого сценария - 20 минут;
- Общее время для написания автом. сценариев в коде, таким образом, 2200 минут (36—37 часов);
- Общая продолжительность тестовых мероприятий, таким образом, примерно 42 часа (не считая времени на подготовку документации).
- При средних рисках в процессе тестирования общая его продолжительность может вырасти на 5–10% процентов, т.е. до 44—46 часов. (Подсчёты рисков проводились на основании данных отсюда: https://probusiness.io/master_class/127-2-formuly-dlya-opredeleniya-samykh-opasnykh-riskov-proekta-ot-maksima-yakubovicha.html)

## Установочное и конфигурационное тестирование

В первую очередь следует прибегнуть именно к этим видам нефункционального тестирования, поскольку без них осуществеление дальнейших тестовых процедур попросту нецелесообразно. Важность этого тапа усугубляется и природой самого объекта тестирования — мобильного приложения. ПО для мобильных устройств крайне чувствительно к специфике той аппартной части, на которую устанавливается. Из этого проистекает необходимость и других специфических типов проверок, но об этом речь пойдёт ниже.

Установка и первичный запуск будут проводиться на 6 эмулируемых устройствах, как то: телефон с разными уровнями Google API (21 — минимальный допустимый в проекте приложения, 32 — целевой уровень в проекте, 29 — потому что так написано в задании) и планшет (также с обозначенными ранее уровнями API). Для устройств будут подобраны наиболее частотные параметры экрана (статистика взята отсюда: https://developer.android.com/about/dashboards), т.е. с плотностью пикселей xhdpi и разрешением 1280х720 (для образа телефона) и 1200х1920 (для образа планшета).

Тестирование прочих типов будет проводиться на двух устройствах: телефоне и планшете, оба с API 29, т. к. именно этот уровень является приоритетным для задачи.
Автоматизация будет касаться только эмулируемого телефона. На эмулируемом планшете будут проводиться только ручные проверки, опеределяющие общую функциональность приложения и отображения его наполнения.

## Функиональное тестирование

_Примечание: для каждого элемента также будет проверяться поведение при включённой в системе тёмной теме. Я не уверен, что этот аспект корректно выносить в раздел тестирования удобства использования (нефункицонального), поэтому все соответствующие проверки мною включена в один раздел с функциональными. Туда же я вынес проверки отображения при разных настройках размера шрифтов в системе, поскольку некорретное отображение элементов интерфейса может затрубнять доступ к основному функционалу приложения._

# Страница авторизации

- Взаимодействие пользователя с приложением начинается со страницы авторизации. Соответственно, проверяется результат авторизации с корректными и некорректными данными.
- Кроме того, отображение и функциональность полей ввода необходимо проверить с разными ориентациями экрана — вертикальной и горизонтальной.
- При успешной авторизации пользователь должен попасть на следующую страницу — домашнюю страницу приложения с основным функционалом.
- Следует проверить, как ведут себя элементы страницы при экранной клавиатуры в разных ориентациях. В случае, если элементы из-за клавиатуры не помещаются на рабочую область экрана, пользователь должен быть в состоянии прокрутить страницу.
- Не следует забывать и про тёмную тему: в иделале отображение должно меняться таким образом, чтобы фон страницы был тёмным, а чёрные элементы становились светлыми. Текст должен быть виден на фоне полей при вводе.
- При смене масштаба элементов в системе поля и их подписи не должны перекрываться.
- Наконец, поле должно допускать вставку символов из буфера обмена и вставлять их корректно.
- Также проверим, не перекрываются ли тап-зоны (при просмотре слоёв интерфейса в Android Studio).
- Не забываем и про кнопку "Sign in": она должна активироваться и перенаправлять пользователя в основное окно приложения при нажатии, если поля ввода заполнены корректно. Если поля пустые, пользователь должен информироваться о некорректном вводе.
- Кнопка должна отображаться корректно при любых ориентациях экрана.

# Шапка приложения (с кнопками меню, логина и надписью с названием приложения)

- Элементы не должны перекрываться или выходить за границы видимой области при смене ориентации экрана и масштаба элементов в системе.
- Тап-зоны элементов не должны перекрываться.
- В тёмном режиме системы элементы должны быть различимы и контрастны относительно фона.
- Отображение шапки должно быть постоянным вне зависимости от раздела, где в данный момент находится пользователь (кроме раздела About).

# Кнопка меню (слева сверху)

- При нажатии на кнопку под ней должен появляться выпадающий список с тремя пунктами: Main, News и About. Мы проверяем, будет ли пользователь попадать в соответствующие окна при нажатии на каждый из этих пунктов.
- Когда список активен, нажатие в любом месте окна кроме поверхности списка должно этот список закрывать.
- Пункт списка, соответствующий текущему отображаемому окну, должен быть неактивен, т.е. нажатие на него не приводит ни к каким действиям, и текст в этом пункте должен быть бледнее обычного текста.
- Следует проверить и то, как список отображается в разных ориентациях экрана, и меняется ли его отображение при смене ориентации экрана, если список уже активен: во всех случаях он должен находиться сверху слева, чуть ниже кнопки меню, сохраняя свой масштаб.
- Также список должен закрываться при нажатии кнопки "Назад" в системной панели и не должен оставаться на экране при сворачивании или смене приложения.
- Переход в другое окно через список также должно закрывать список.
- Следует проверить и масштаб отображения списка в разных условиях. Кроме того, при изменении ориентации кнопка меню не должна перекрывать соседние.
- При включении тёмного режима фон списка должен становиться тёмным, а текст — светлым, при этом оставаясь различимым относительно фона. Сама кнопка должна быть различима, изображение на ней должно сохранять контрастность.
- Тап-зона кнопки не должна перекрываться с соседними элементами.
- Не должны перекрываться и тап-зоны пунктов списка между собой.

# Кнопка раздела жизнеутверждающих цитат (с логотипом приложения, вторая справа в шапке)

- Следует проверить, перенаправляет лии она пользователя в окно с цитатами.
- При смене ориентации экрана её отображение должно оставаться корректным, она не должна перекрывать соседние кнопки
- Тап-зона кнопки не должна перекрываться с соседними элементами.
- В тёмном режиме изображение на кнопке должно сохранять контрастность, она должна быть визуально различима.

# Непосредстенно раздел с жизнеутверждающими цитатами

- Каждый блок с цитатой должен в свёрнутом виде отображать цитату с подложкой, в развёрнутом — примечания к ней.
- Кнопка со стрелкой на всех блоках должна изменять отображение цитаты. В зависимости от состояния изображение на кнопке тоже должно меняться.
- При разворачивании/сворачивании блоки не должны перекрываться между собой.
- При смене ориентации блоки и кнопки на них должны отображаться корректно, без перекрытий, сохраняя функциональность, не выступая за границы видимой на экране области.
- На странице есть и блок с надписью "Love is all" под шапкой. Он также должен отображаться корректно при смене ориентации страницы.
- С разными настройками масштабирования текст должен помещаться в блоки без обрезки, причём и в свёрнутые, и в развёрнутые.
- При включении тёмной темы текст блоков должен быть светлым и контрастным относительно фона, причём как на подложке, так и на основном фоне развёрнутого блока.
- Фон всего раздела и верхнего блока с надписью также должен становиться тёмным.
- Состояние блоков должно сохраняться при смене ориентации экрана.
- Нажатие на системную кнопку "Назад" должно возвращать пользователя на основную страницу (раздел Main).

# Раздел Main

- Имеется непонятная панель News, через которую должна быть доступна кнопка All News, когда панель разворачиватся стрелкой. _(Объясните мне, кто-нибудь, смысл этой навигации между страницами, ибо я так и не понял, что здесь должно отображаться и зачем он вообще нужен, если есть уже раздел с новостями. Т.е. помимо всех новостей есть ещё какие-то кем-то выбранные новости? И почему свайп вниз активирует анимацию загрузки, если тут всё равно ничего нет?)_
- Панель и стрелка на ней должна корректно отображаться в разных ориентациях экрана при разных масштабах элементов в системе.
- Фон страницы должен становиться тёмным в тёмном режиме.
- Элементы панели News должны быть контрастными и различимыми относительно фона.
- Нажатие на кнопку All News должно перенаправлять пользователя на страницу приложения с новостями, т.е. News.
- Не лишним здесь будет и проверить, меняется ли выбранный раздел в рассмотренном выше выпадаюшем списке. Т.к. его суть в том, что он показывает пользователю, на какой странице тот сейчас находится.

# Раздел News

- Сверху под шапкой должна отображаться панель News с кнопками сортировки новостей, фильтра и объявлений.
- Кнопка сортировки должна располагать имеющиеся новости в порядке создания.
- Элементы панели News должны быть контрастными и различимыми относительно фона.
- Фон страницы должен становиться тёмным в тёмном режиме.
- При этом изображение с логотипом приложения должно быть контрастным относительно фона страницы.
- Кнопка Refresh при нажатии должна отображать активные события, если таковые имеются.
- Кнопка фильтра дожна перенаправлять пользователя в окно выбора фильтров.

  **Страница фильтров**

- Элементы страницы должны корректно отображаться при разных ориентации и масштабе элементов в системе.
- При выборе тёмного режима в системе фон страницы должен быть тёмным, а границы полей, текст и кнопки — светлыми и контрастными.
- Выпадающий список в поле Category должен содержать все типы событий, которые можно создать в приложении. Его отображение также должно быть корректным при разных ориентациях/масштабах/тёмном режиме.
- В случае, если категория вводится вручную, экранная клавиатура (в вертикальной ориентации) также должна оставлять возможность для прокрутки страницы, не закрывая поля ввода.
- Поля выбора даты должны открывать календарь.
- Должно появляться сообщение об ошибке, если начало фильтруемого периода позже, чем конец фильтруемого периода.
- Нажатие на кнопку Filter должно применять фильтры и перенаправлять пользователя обратно в раздел новостей. Отображаемые новости должны соответствовать фильтру.
- Нажатие на кнопку Cancel должно закрывать окно фильтрации без применения фильтров, и пользователь должен попадать обратно в раздел новостей.

- Нажатие на кнопку объявлений (самая правая на панели News) дожна перенаправлять пользователя в окно работы с объявлениями (Control Panel)

**Страница Control Panel**

- Элементы страницы должны корректно отображаться при разных ориентации и масштабе элементов в системе.
- При выобре тёмного режима в системе фон страницы должен быть тёмным, а границы полей, текст и кнопки — светлыми и контрастными.
- Для каждого блока события должны отображаться именно те данные, с котором он был создан (даты создания и публикации, категория, статус и примечание), в корректном формате.
- Примечание должно показываться и скрываться при нажатии на кнопку стрелки.
- Элементы интерфейса блока должны отображаться корректно, без перекрытий тап-зон.
- Для событий, созданных от лица текущей учётной записи, кнопки удаления и редактирования должны быть доступны.
- Нажатие на кнопку удаления должно открывать всплывающее окно с предупреждением о необратимости действия и запоросом подтверджения от пользователя.
- После подтверждения удаления событие должно исчезнуть из списка; также оно не должно обнаруживаться через фильтры.
- Нажатие на кнопку редактирования должно перенаправлять пользователя на страницу Editing News, где в соответствующих полях должны отображаться именно те данные, которые были введены при создании события.
- После модификации данных при нажатии на кнопку Save окно должно закрываться, пользователь должен попадать обратно на страницу событий, где отредактированное событие будет отображаться с новыми данными. Также видоизменённые события должны быть доступны через поиск.
- При нажатии на кнопку Cancel пользователь должен вернуться на страницу событий, а никакие из изменённых данных недолжны сохраняться для выбранного события. Перед отменой изменений должно всплыть окно, где пользователь подтвердит отказ.

- Нажатие на **кнопку сортировки** с двумя стрелками вверху страницы должно располагать имеющиеся события по дате создания; повторное должно обращать их порядок в списке.

- Нажатие на кнопку фильтров должно перенаправить пользователя на **страницу фильтров** (Filter news).
- Элементы страницы должны корректно отображаться при разных ориентации и масштабе элементов в системе.
- При выобре тёмного режима в системе фон страницы должен быть тёмным, а границы полей, текст и кнопки — светлыми и контрастными, в т.ч. текст рядом с чекбоксами.
- Нажатие на поле Category должно раскрывать выпадающий список со всем категориями событий, доступных в приложении. Этот список также должен отображаться корректно в разных условиях, в т.ч. при активной экранной клавиатуре.
- Также поле не должно позволять вводить с клавиатуры свой вариант категории. Приложение не должно осуществлять поиска по неверным категориям (такой фильтр не должен применяться).
- Нажатия на поля дат должны открывать экран выбора даты из календаря.
- В идеале приложение не должно позволять выбирать дату начала сортировки, которая будет позже, чем дата конца сортировки.
- Выборы чекбоксов Active/Not Active должны давать соответствующие результаты при фильтрации.
- Нажатие на кнопку Filter должно применять указанные фильтры и возвращать пользователя на страницу событий.
- Нажатие на кнопку Cancel должно возвращать пользователя на страницу событий, где будут отображаться те же события, что и ранее. Если до этого уже были применены фильтры к выдаче, они не должны сбрасываться.

- При нажатии на **кнопку создания события** (с плюсом в круге) пользователь должен попадать на страницу создания событий (Creating News).
- Элементы страницы должны корректно отображаться при разных ориентации и масштабе элементов в системе.
- При выобре тёмного режима в системе фон страницы должен быть тёмным, а границы полей, текст и кнопки — светлыми и контрастными.
- Нажатие на поле Category должно раскрывать выпадающий список со всем категориями событий, доступных в приложении. Этот список также должен отображаться корректно в разных условиях, в т.ч. при активной экранной клавиатуре.
- Также поле не должно позволять вводить с клавиатуры свой вариант категории. Окно поиска по некорректной категории должно информировать об ошибке ввода.
- Если пользователь вводит недопустимые символы в поле категории, приложение должно информировать его о некорректном вводе.
- Нажатие на поле времени события должно открывать окно с виджетом часов, где можно выставить нужное время стрелками. При нажатии на иконку клавиатуры должно открываться окно для клавиатурного ввода времени. При нажатии Cancel окно должно закрываться без сохранения изменений, при нажатии Ok — закрываться с сохранением.
- В идеале приложение не должно разрешать вводить время раньше текущего для текущего дня.
- В поле даты публикации текст с названием окна должен быть виден пользователю целиком. Нажатие на поле должно открывать окно календаря для выбора числа. Число ранее текущего должно быть недоступно для выбора. При нажатии кнопки Cancel окно должно закрываться без сохранения изменений, при нажатии Ok — закрываться с сохранением.
- _Не совсем понятен смысл переключателя Active здесь, если он всё равно по умолчанию выставлен на "Active" без возможности его сдвинуть._
- После нажатия на кнопку Save пользователь должен попасть обратно на страницу событий; созданное событие должно сохранитсья с теми данными, которые были указаны, и должно отображаться в выдаче при использовании фильтров. Если какое-то из полей не было заполнено, приложение должно потребовать его заполнения.
- При нажатии на кнопку Cancel пользователь должен вернуться на страницу событий, а никакие из изменённых данных недолжны сохраняться для выбранного события. Перед отменой создания события должно всплыть окно, где пользователь подтвердит отказ.

**Страница About**

- При выборе пункта About в списке меню (слева сверху) пользователь должен попасть на страницу данных о приложении.
- Элементы страницы должны корректно отображаться при разных ориентации и масштабе элементов в системе.
- Обображаемый текст должен быть светлым и контрастным с фоном страницы, тот должен быть тёмным. Это касается всего текста: ссылок, версии приложения, заголовков и названия разработчиков.
- Шапка в этом разделе должна изменяться: на ней должны отображаться только название приложения и кнопка "Назад", корректно и без перекрытий.
- Ссылки при нажатии должны вызывать браузер, где будет открыта соответствующая страница.
- Кнопка "Назад" в шапке должна при нажатии направлять пользователя на предыдущую страницу приложения. То же должно происходить при нажатии системной кнопки "Назад".

**Кнопка Log Out**

- Нажатие на неё должно открывать выпадающий список с опцией Log out.
- Список должен отображаться корректно при любых масштабе и ориентации, а также в тёмной теме (т.е. в читаемом виде).
- Выбор пункта Log out должен разлогинивать пользователя и перенаправлять его на окно авторизации.
- Приложение не должно позволять пользователю отменить разлогин при нажатии системной кнопки "Назад", т.е. он должен остаться на странице авторизации, пока не введёт корректные данные заново.

## Автоматизируемые сценарии

- Авторизация с корректными и некорректными данными;
- Просмотр новостей на странице Main (при разных входных данных/состояниях новостей);
- Переход на страницу News и просмотр новостей на ней, в том числе с применением сортировок и фильтров по разным параметрам;
- Переход на страницу News Control Panel и взаимодействие с новостями на ней при помощи фильтров;
- Редактирование новости с изменением различных данных, проверка последующего отображения данных новости и самой новости (в зависимости от активности, времени и даты публикации);
- Удаление новости, его подтверждение и отмена, а также проверка результатов удаления новости, видимости новости на разных страницах;
- Создание новости с различными данными, с разной зполненностью полей; отмена создания новости и поведение созданной новости (отображение в зависимости от статуса и даты/времени публикации); корректность отображения данных созданной новости; отображение новости на разных страницах приложения;
- Переход на страницу About, просмотр указанных на ней данных, а также переход по указанным ссылкам;
- Переход на страницу Our Mission, просмотр цитат на ней и взаимодействие с ними;
- Навигация между страницами приложения при помощи кнопки меню в шапке приложения;
- Выход из приложения, т.е. завершение авторизованной сессии, а также корректность завершения этой сессии.

## Основная направленность тестирования

Большинство проверок, таким образом, функциональные и автоматизируемые. Проверки, связанные с тёмной темой и отображением элементов, не следует автоматизировать, поскольку это неочевидно в плане исполнения и не слишком критично. Основное значение имеют проверки функиционирования интерфейса (переходы между окнами, ввод данных), а также логики приложения, связанной со хранением и выдачей информации, т.е. созданных событий.

## Критерии завершения тестирования

Ключевое значение имеет функционал событий (новостей), их создания, редактирования, фильтрации, удаления и отображения. Все связанные с этими действиями аспекты должны быть покрыты тестами и автоматизированы. Немаловажно тестовое покрытие навигации между разделами приложения и авторизации. Созданные тесты должны привести к тому, что в процессе дальнейшей разработки все данные новостей будут корректно сохраняться, отображаться и модифицироваться пользователями, соответствуя выставленным таймерам и переключателям статусов.
